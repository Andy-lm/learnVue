<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #page1,#page2,#page3,#page4,#page404 {
            display: none;
        }

    </style>
    
</head>
<body>
    <a href="#1">显示1</a>
    <a href="#2">显示2</a>
    <a href="#3">显示3</a>
    <a href="#4">显示4</a>
    <hr>
    <div id="app">
    </div>
    <div id="page1">1</div>
    <div id="page2">2</div>
    <div id="page3">3</div>
    <div id="page4">4</div>
    <div id="page404">404 Not Found</div>

    <script>
        // 获取所有的页面
        let page1 = document.querySelector('#page1');
        let page2 = document.querySelector('#page2');
        let page3 = document.querySelector('#page3');
        let page4 = document.querySelector('#page4');
        // 建立hash表
        const routeTable = {
            '1': page1,
            '2': page2,
            '3': page3,
            '4': page4
        }

        
        function route() {
            // 获取当前hash
            let number = window.location.hash.slice(1);
            number = number || 1;
            // 根据hash拿到当前页面
            let page = routeTable[number.toString()];
            page = page || document.querySelector('#page404');
            page.style.display = 'block';
            // 拿到容器
            let app = document.querySelector('#app');
            if(app.children.length > 0) {
                app.innerHTML = '';
            }
            // 渲染页面
            app.appendChild(page);
        }


        // 初始渲染主页面
        route();
        // 监听hash的变化
        window.addEventListener('hashchange',function(){
            route();
        })
    </script>
</body>
</html>